{% block form_row %}
{% spaceless %}
    {% if form|is_flexible %}
        {{ block('form_row_flex') }}
    {% else %}
    <div class="control-group{% if errors|length > 0 %} error{% endif %}{% if attr.class is defined %} {{ attr.class }}{% endif %}">
        {{ form_label(form, '' , { label_attr: label_attr|merge({ class: 'control-label' })}) }}
        <div class="controls">
            {{ form_widget(form) }}
            {{ form_errors(form) }}
        </div>
    </div>
    {% endif %}
{% endspaceless %}
{% endblock form_row %}

{% block form_row_flex %}
{% spaceless %}
    {% for attribute in form %}
        {{ form_widget(attribute) }}
        {{ form_errors(attribute) }}
    {% endfor %}
{% endspaceless %}
{% endblock form_row_flex %}

{% block money_widget %}
{% spaceless %}
    <div class="input-prepend input-prepend-right"">
        <span class="add-on">{{ money_pattern|replace({ '{{ widget }}': '' }) }}</span>
        {{ money_pattern|replace({ '{{ widget }}': block('form_widget_simple') })|raw }}
    </div>
{% endspaceless %}
{% endblock money_widget %}

{% block date_widget %}
{% spaceless %}
    {% set type = 'text' %}
    {% if widget == 'single_text' %}
        {{ block('form_widget_simple')|raw }}
    {% else %}
        <div {{ block('widget_container_attributes') }}>
            {{ date_pattern|replace({
            '{{ year }}':  form_widget(form.year),
            '{{ month }}': form_widget(form.month),
            '{{ day }}':   form_widget(form.day),
            })|raw }}
        </div>
    {% endif %}
{% endspaceless %}
{% endblock date_widget %}

{% block choice_widget_expanded %}
{% spaceless %}
    <div {{ block('widget_container_attributes') }}>
        {% for child in form %}
            <div class="oro-clearfix">
                {{ form_widget(child) }}
                {{ form_label(child) }}
            </div>
        {% endfor %}
    </div>
{% endspaceless %}
{% endblock choice_widget_expanded %}

{% block form_label %}
{% spaceless %}
    {% if not compound %}
        {% set label_attr = label_attr|merge({'for': id}) %}
    {% endif %}
    {% if required %}
        {% set label_attr = label_attr|merge({'class': (label_attr.class|default('') ~ ' required')|trim}) %}
    {% endif %}
    {% if label is empty %}
        {% set label = name|humanize %}
    {% endif %}
    <label{% for attrname, attrvalue in label_attr %} {{ attrname }}="{{ attrvalue }}"{% endfor %}>{{ label|trans({}, translation_domain)|capitalize }}</label>
{% endspaceless %}
{% endblock form_label %}

{% block oro_flexibleentity_email_collection_widget %}
    {% import 'OroUserBundle::macros.html.twig' as macros %}
    <div class="row-oro">
        <div id="email-fields-list" data-prototype="{{ macros.collection_prototype(form.emails)|escape }}">
            {% for emailField in form.emails.children %}
                {{ macros.collection_prototype(emailField) }}
            {% endfor %}
        </div>
        <a class="btn" href="javascript: void(0);" id="add-another-email">{{ 'Add another email'|trans }}</a>
    </div>
{%  endblock oro_flexibleentity_email_collection_widget %}
