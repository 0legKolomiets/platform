{% extends bap.layout is defined ? bap.layout : 'OroUserBundle::layout.html.twig' %}

{% block title %}{{ 'Groups overview'|trans }} - {{ parent() }}{% endblock %}

{% block head_script %}
    {{ parent() }}

    {% include 'OroGridBundle:Include:javascript.html.twig' with {'datagrid': datagrid, 'selector': '#groups-grid'} %}
    {% include 'OroGridBundle:Include:stylesheet.html.twig' %}
{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1>{{ 'Groups overview'|trans }} <a class="btn btn-primary pull-right no-hash" href="{{ path('oro_user_group_create') }}" id="add-new-btn">{{ 'Add new'|trans }}</a></h1>
    <div id="groups-grid"></div>

    <script type="text/javascript">
        $(function() {
            $("#add-new-btn").click(function(e) {
                new Oro.widget.DialogView({
                    url: $(this).attr('href'),
                    dialogOptions: {
                        appendTo: '#main',
                        allowMaximize: true,
                        allowMinimize: true,
                        dblclick: 'maximize',
                        maximizedHeightDecreaseBy: 'minimize-bar',
                        width : 400,
                        height : 250,
                        title: '{{ 'Add group'|trans }}'
                    }
                }).render();

                return false;
            });
        });
    </script>
</div>
{% endblock %}
