parameters:
    flexible_manager_class:     Oro\Bundle\FlexibleEntityBundle\Manager\FlexibleManager
    user_manager_class:         Oro\Bundle\UserBundle\Entity\UserManager
    user_entity_class:          Oro\Bundle\UserBundle\Entity\User
    user_value_class:           Oro\Bundle\UserBundle\Entity\UserValue
    user_form_class:            Oro\Bundle\UserBundle\Form\Type\UserType

services:
    oro_user.flexible_manager:
        class:                  %flexible_manager_class%
        arguments:              ["@service_container", %user_entity_class%]

    oro_user.user_manager:
        class:                  %user_manager_class%
        arguments:              ["@security.encoder_factory", "@fos_user.util.username_canonicalizer", "@fos_user.util.email_canonicalizer", "@fos_user.entity_manager", %fos_user.model.user.class%]

    oro_user.user_provider:
        class:                  Oro\Bundle\UserBundle\Security\UserProvider
        public:                 false
        arguments:              ["@oro_user.user_manager"]

    oro_user.user_form:
        class:                  %user_form_class%
        arguments:              [%user_entity_class%, %user_value_class%]
        tags:
            - { name: form.type, alias: oro_user_form }

